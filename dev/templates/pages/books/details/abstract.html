
<div class="container">
    <modal-backdrop></modal-backdrop>
    <div class="wrap-aside" ng-class="{ active: isActiveAside}">
        <aside>
            <div class = "aside-scroll">
                <main-nav></main-nav>
                <edit-delete-btn></edit-delete-btn>

                <quick-statistics></quick-statistics>

                <filter-abstract></filter-abstract>
            </div>
        </aside>
    </div>

    <section class="main-content mobile">
        <section id="book-details" class="tablet mobile">

            <div details-flags></div>

            <section id="book-abstract" class="tablet mobile" ng-show="isCurrent('abstr')">
                <div class="add-abstr-section clearfix">
                    <textarea id="abst-area" placeholder="add a new quote, note or review" ng-model="abstrItemToAdd.content"></textarea>
                    <div class="btn positive add-abstr-btn" ng-click="addAbstrItem()">+</div>
                       <label for="">
                        <input type="radio" value="quote" name="abstr-type" ng-model="abstrItemToAdd.type">
                        <p>quote</p>
                    </label>
                    <label for="">
                        <input type="radio" value="note" name="abstr-type" ng-model="abstrItemToAdd.type">
                        <p>note</p>
                    </label>
                    <label for="">
                        <input type="radio" value="review" name="abstr-type" ng-model="abstrItemToAdd.type">
                        <p>review</p>
                    </label>
                </div>

                <article class="review" ng-show="book.review && typesToShow.review" ng-click="toggleButtons($event)">
                    <div class="item-body">
                        <p>Review</p>
                        <p>{{book.review}}</p>
                    </div>
                    <div class="btn-box clearfix">
                        <div class="btn positive" ng-click="editReview()">
                            <span class="btn-name">edit</span>
                        </div>
                        <div class="btn negative" ng-click="deleteReview()">
                            <span class="btn-name">delete</span>
                        </div>
                    </div>
                </article>

                <div class="abstr-items">
                    <p class="no-content-message" ng-hide="book.abstractItems.length || book.review">
                        Your abstract is empty yet. Add some quotes, notes and wright a review!
                    </p>
                    <article ng-repeat="item in book.abstractItems | abstractFilter:typesToShow track by $index" class="{{item.type}}" ng-click="toggleButtons($event)">
                        <div class="item-body">
                            <span>{{item.content}}</span>
                        </div>
                        <div class="btn-box clearfix">
                            <div class="btn positive" ng-click="editAbstrItem($index)">
                                <span class="btn-name">edit</span>
                            </div>
                            <div class="btn negative" ng-click="deleteAbstrItem($index)">
                                <span class="btn-name">delete</span>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

        </section>
    </section>
</div>
